webpackJsonp([22],{198:function(t,e,n){"use strict";function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(18),a=n.n(r),c=n(89),o=a.a.database();e.default=(i={props:["search"],data:function(){return{posts:[],user:{},likes:[{id:"",user:[]}],usr:""}},computed:{checkLikeCom:function(t){}},created:function(){var t=this;this.fetchLikes(),this.fetchPosts().then(function(e){e&&(t.posts=e)}),n.i(c.g)().then(function(e){t.usr=e.email.slice(0,9)})}},s(i,"computed",{filtered:function(){var t=this;return this.posts.filter(function(e){return e.title.match(t.search)})}}),s(i,"methods",{handleLike:function(t,e,n){if(this.usr){var s={id:"",user:[]};if(s.id=e,s.user=this.likes[n].user,t){var i=s.user.indexOf(this.usr);s.user.splice(i,1)}else s.user.push(this.usr);o.ref("/likes/"+e).update(s)}},checkLike:function(t){return!!this.usr&&this.likes[t].user.includes(this.usr)},fetchLikes:function(){var t=this,e=[];o.ref("/likes").on("value",function(n){if(e=[],n.val()){var s=Object.keys(n.val()).sort().reverse();e=s.map(function(t){return n.val()[t]})}return t.likes=e})},fetchPosts:function(){var t=[];return new Promise(function(e){o.ref("/newposts").on("value",function(n){if(n.val()){var s=Object.keys(n.val()).sort().reverse();t=s.map(function(t){return n.val()[t]}),e(t)}})})}}),i)},224:function(t,e,n){e=t.exports=n(190)(),e.push([t.i,".banner{max-height:300px;width:100%!important;margin:0 auto!important}.cards-cont{width:100%;margin:0 auto}.card,.cards-cont{z-index:0!important}.card{margin:10px 0}.locate{position:fixed;bottom:0;left:0;z-index:0;background-color:red}.likeBut{color:red!important}",""])},240:function(t,e,n){function s(t){n(278)}var i=n(189)(n(198),n(255),s,null,null);t.exports=i.exports},255:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cards-cont"},t._l(t.filtered,function(e,s){return n("md-card",{key:e.id,staticClass:"card"},[n("md-card-header",[n("div",{staticClass:"md-title"},[n("router-link",{attrs:{to:"/posts/"+e.id}},[t._v("\n\t\t\t\t    \t\t\t\t"+t._s(e.title)+" \n\t\t\t\t    \t\t")])],1),t._v(" "),n("div",{staticClass:"md-subhead"},[t._v(t._s(e.date))])]),t._v(" "),e.banner?n("md-card-media",{staticStyle:{"backgound-color":"black"},attrs:{align:"center"}},[n("img",{staticClass:"banner",attrs:{src:e.banner,alt:"People"}})]):t._e(),t._v(" "),n("md-card-content",[t._v("\n\t\t\t\t    "+t._s(e.body.slice(0,20))+"...\n\t\t\t\t    "),n("router-link",{attrs:{to:"/posts/"+e.id}},[t._v("\n\t\t\t\t    \t[SeeMore]\n\t\t\t\t    ")])],1),t._v(" "),n("md-card-actions",[t.usr?t._e():n("span",{staticStyle:{"margin-right":"9px"}},[t._v("LogIn to react\n\t\t\t\t  \t")]),t._v(" "),n("b",[t._v(t._s(t.likes[s].user.length))]),t._v(" "),n("md-button",{staticClass:"md-icon-button ",attrs:{disabled:!t.usr},on:{click:function(n){t.handleLike(t.checkLike(s),e.id,s)}}},[n("md-icon",{class:{likeBut:t.checkLike(s)}},[t._v("favorites\n\t\t\t\t    \t")])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[t._v("share")])],1)],1)],1)}))},staticRenderFns:[]}},278:function(t,e,n){var s=n(224);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n(191)("0390ff3b",s,!0)}});